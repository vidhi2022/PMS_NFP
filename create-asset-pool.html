<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Create Asset Pool</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    /* Compact style for form inputs */
    .form-control,
    .form-select {
      padding: 0.25rem 0.4rem !important;
      font-size: 13px !important;
      height: calc(1.5em + 0.6rem + 2px) !important;
    }

    .form-label {
      font-weight: 600;
      font-size: 13px;
      margin-bottom: 4px;
    }

    .btn {
      padding: 0.3rem 0.75rem !important;
      font-size: 13px !important;
    }

    table td,
    table th {
      font-size: 13px;
      padding: 6px;
    }

    h1, h2, h3, h4, h5 {
      font-size: 1.25rem;
      font-weight: 600;
    }

    .card {
      border-radius: 6px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    .card-header {
      font-size: 14px;
      padding: 0.4rem 0.75rem;
      background: #f8f9fa;
      font-weight: 600;
    }

    .card-body {
      padding: 0.75rem 1rem;
      background: #fff;
    }

    .row.g-2,
    .row.mb-4,
    .row.mb-3 {
      margin-bottom: 0.75rem !important;
      gap: 0.75rem !important;
    }
  </style>
</head>
<body>
  <div class="container py-0">
    <h2 class="text-center mb-1 text-primary fw-bold">Create Pool of Assets</h2>
	
	<div class="card mb-4">
		<div class="card-header">Create Pool For</div>
		<div class="card-body">
			<div class="row mb-3">
				<div class="col-sm-12">
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="radio" name="parent_asset_type" id="existingAsset" value="existing" checked />
						<label class="form-check-label" for="existingAsset">Existing Road and Existing Sub Assets</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="radio" name="parent_asset_type" id="existingAsset1" value="existing1"  />
						<label class="form-check-label" for="existingAsset1">Existing Road and New Sub Assets</label>
					</div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="radio" name="parent_asset_type" id="assetPool" value="new" />
						<label class="form-check-label" for="assetPool">New Road</label>
					</div>
					
				</div>
			</div>
		</div>
	</div>
    <!-- Road Info -->
    <div class="card mb-4">
      <div class="card-header">Road Information</div>
      <div class="card-body">
        <div class="row g-2 mb-3">
          <div class="col-md-3">
            <label class="form-label">Proposed Road Name</label>
            <input type="text" name="road_name" class="form-control">
          </div>
          <div class="col-md-3">
            <label class="form-label">Proposed Road Length (km)</label>
            <input type="number" name="road_length" step="0.01" class="form-control">
          </div>
          <div class="col-md-3">
            <label class="form-label">Road Category</label>
            <select name="road_category" class="form-select">
              <option value="">-- Select Category --</option>
              <option value="NH">National Highway</option>
              <option value="SH">State Highway</option>
              <option value="MDR">Major District Road</option>
              <option value="ODR">Other District Road</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Road Type</label>
            <select name="road_type" class="form-select">
              <option value="">-- Select Type --</option>
              <option value="BT">Bituminous</option>
              <option value="CC">Cement Concrete</option>
              <option value="Gravel">Gravel</option>
              <option value="Earthen">Earthen</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Road Owner</label>
            <input type="text" name="road_owner" class="form-control">
          </div>
          <div class="col-md-3">
            <label class="form-label">Upload Shapefile (.shp)</label>
            <input type="file" name="shapefile" accept=".shp" class="form-control">
          </div>
        </div>
      </div>
    </div>

    <!-- Culverts Section -->
    <div class="card mb-4">
      <div class="card-header">Proposed Culverts</div>
      <div class="card-body">
        <div class="row g-2 align-items-end mb-3">
          <div class="col-md-3">
            <label class="form-label">Culvert Name</label>
            <input type="text" id="culvertName" class="form-control">
          </div>
          <div class="col-md-3">
            <label class="form-label">Culvert Type</label>
            <select id="culvertType" class="form-select">
              <option value="">-- Select Type --</option>
              <option value="Box">Box</option>
              <option value="Pipe">Pipe</option>
              <option value="Arch">Arch</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Span (m)</label>
            <input type="number" id="culvertSpan" class="form-control">
          </div>
          <div class="col-md-1">
            <button type="button" id="addCulvertBtn" class="btn btn-success w-100">+</button>
          </div>
        </div>
        <div class="table-responsive">
          <table class="table table-bordered" id="culvertTable">
            <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Span</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Bridges Section -->
    <div class="card mb-4">
      <div class="card-header">Proposed Bridges</div>
      <div class="card-body">
        <div class="row g-2 align-items-end mb-3">
          <div class="col-md-3">
            <label class="form-label">Bridge Name</label>
            <input type="text" id="bridgeName" class="form-control">
          </div>
          <div class="col-md-3">
            <label class="form-label">Bridge Type</label>
            <select id="bridgeType" class="form-select">
              <option value="">-- Select Type --</option>
              <option value="Suspension">Suspension</option>
              <option value="Beam">Beam</option>
              <option value="Truss">Truss</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Span (m)</label>
            <input type="number" id="bridgeSpan" class="form-control">
          </div>
          <div class="col-md-1">
            <button type="button" id="addBridgeBtn" class="btn btn-success w-100">+</button>
          </div>
        </div>
        <div class="table-responsive">
          <table class="table table-bordered" id="bridgeTable">
            <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Span</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Walls Section -->
    <div class="card mb-4">
      <div class="card-header">Proposed Retaining Walls</div>
      <div class="card-body">
        <div class="row g-2 align-items-end mb-3">
          <div class="col-md-3">
            <label class="form-label">Wall Name</label>
            <input type="text" id="wallName" class="form-control">
          </div>
          <div class="col-md-3">
            <label class="form-label">Wall Type</label>
            <select id="wallType" class="form-select">
              <option value="">-- Select Type --</option>
              <option value="Gravity">Gravity</option>
              <option value="Cantilever">Cantilever</option>
              <option value="Anchored">Anchored</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Length (m)</label>
            <input type="number" id="wallLength" class="form-control">
          </div>
          <div class="col-md-1">
            <button type="button" id="addWallBtn" class="btn btn-success w-100">+</button>
          </div>
        </div>
        <div class="table-responsive">
          <table class="table table-bordered" id="wallTable">
            <thead class="table-light">
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Length</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Submit Buttons -->
    <div class="text-end">
      <a href="index.html" class="btn btn-secondary">Back</a>
      <button class="btn btn-primary">Save Asset Pool</button>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JavaScript for Dynamic Tables -->
  <script>
    function addRow(tableId, inputs, namePrefix) {
      const tbody = document.querySelector(`#${tableId} tbody`);
      const values = inputs.map(input => input.value.trim());
      if (values.some(v => !v)) {
        alert("Please fill all fields.");
        return;
      }
      const tr = document.createElement("tr");
      tr.innerHTML = values.map((val, i) =>
        `<td><input type="hidden" name="${namePrefix}_${i}[]" value="${val}">${val}</td>`
      ).join("") + `<td><button type="button" class="btn btn-sm btn-danger deleteRowBtn">Delete</button></td>`;
      tbody.appendChild(tr);
      inputs.forEach(i => i.value = "");
    }

    document.getElementById("addCulvertBtn").onclick = () =>
      addRow("culvertTable", [culvertName, culvertType, culvertSpan], "culvert");

    document.getElementById("addBridgeBtn").onclick = () =>
      addRow("bridgeTable", [bridgeName, bridgeType, bridgeSpan], "bridge");

    document.getElementById("addWallBtn").onclick = () =>
      addRow("wallTable", [wallName, wallType, wallLength], "wall");

    document.querySelectorAll("tbody").forEach(tbody =>
      tbody.addEventListener("click", e => {
        if (e.target.classList.contains("deleteRowBtn")) {
          e.target.closest("tr").remove();
        }
      })
    );
  </script>
</body>
</html>
